<!DOCTYPE html>
<html>
<head>
    <title>{{ t['welcome'] }}</title>
    <script src="/static/script.js" defer></script>
    <link rel="stylesheet" href="/static/style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body class="notepad">
    <!-- theme and language controls -->
    <div class="top-controls">
      <button id="theme-switch">{{ t['switch_theme'] }}</button>
      <select id="lang-switch" aria-label="Language switch">
        <option value="pt" {% if current_lang == 'pt' %}selected{% endif %}>PT</option>
        <option value="en" {% if current_lang == 'en' %}selected{% endif %}>EN</option>
      </select>
      <div class="google-drive-status">
        {% if google_connected %}
            <form action="/disconnect_google" method="post">
                <button type="submit">{{ t['disconnect_google'] }}</button>
            </form>
        {% else %}
            <a href="/google_connect">{{ t['connect_google'] }}</a>
        {% endif %}
    </div>
      <button onclick="window.location.href='/logout'">{{ t['logout'] }}</button>
    </div>

    <h2>{{ t['welcome'] }}</h2>
    
    <!-- Google Drive connection status -->
    

    <div class="notes">
        <form method="post"><br>
            <input type="text" name="title" placeholder="{{ t['note_title_placeholder'] }}" required>
            <textarea name="content" placeholder="{{ t['write_note'] }}" required></textarea><br>
            <button type="submit">{{ t['add_note'] }}</button>
            <label for="reminder_at">{{ t['remind_at'] }}</label>
            <input id="reminder_at" name="reminder_at" type="datetime-local">
        </form><br>
    </div>
    <br>
    <div class="notes">
        <h3>{{ t['your_notes'] }}</h3>
        
        <!-- Search input (common for both views) -->
        <button id="toggle-notes-btn" data-view-active="{{ t['view_active'] }}" data-view-completed="{{ t['view_completed'] }}">
            {{ t['view_completed'] }}
        </button>
        <input type="text" id="search" placeholder="{{ t['search_notes'] }}">
        
        <!-- Notes container wrapper -->
        <div class="notes-container-wrapper">
            
            <!-- Active notes container (shown by default) -->
            <div id="active-notes-container">
                {% include "partials/notes_list.html" %}
            </div>
            
            <!-- Completed notes container (hidden by default) -->
            <div id="completed-notes-container" style="display: none;">
                {% include "partials/notes_completed.html" %}
            </div>
        </div>
    </div>

    <br>
    <a href="/credits">{{ t['credits'] }}</a>
</body>
</html>